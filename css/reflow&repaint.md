# 回流与重绘

回流(reflow): 当 render 树中的一部分或者全部因为大小边距等问题发生改变而需要重建的过程
重绘(repaint): 元素的一部分属性发生变化，如外观背景色，不会引起布局变化而需要重新渲染的过程

> Tips: 回流必将引起重绘，而重绘不一定会引起回流。

## 回流发生的条件

当页面布局和几何属性改变时就需要回流。

- 添加或者删除可见的 DOM 元素。
- 元素位置改变。
- 元素尺寸改变 - 边距、填充、边框、宽度和高度。
- 内容改变 — 比如文本改变或者图片大小改变而引起的计算值宽度和高度改变。
- 页面渲染初始化。
- 浏览器窗口尺寸改变 — resize 事件发生时。

## 优化方式

1. 将那些改变样式的操作集合在一次完事，直接改变 className 或者 cssText
2. 使用 DocumentFragment 进行缓存操作，只触发一次回流和重绘
