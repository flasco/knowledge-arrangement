# options
options 请求 - post 请求的时候在 network 页上会出现 2 条请求
1、获取接口支持的接口类型，比如是否支持post，delete。
2、用来检查接口是否支持跨域。

预检请求是 CORS 中一种透明服务器验证机制。预检请求首先需要向另外一个域名的资源发送一个 HTTP OPTIONS 请求头，其目的就是为了判断实际发送的请求是否是安全的。

下面的 2 种情况需要进行预检：

1. 简单请求，比如使用 Content-Type 为 application/xml 或 text/xml 的 POST 请求；
2. header 中设置自定义头，比如 X-JSON、X-MENGXIANHUI 等。

注意，在新版 chrome中无法看到options请求，

# http 与 https 的区别

https 走的端口是 443，而 http 走的是 80 端口。http 采用的是 tcp 协议，明文传输，而 https 则是 ssl/tls 加密协议，其作用一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。

https 浏览器会使用公钥加密内容，服务器则是对接收到的请求进行私钥解密，这样安全性比较高，防止信息传输途中被篡改。

# http2.0 的特点

- 服务器端推送，服务器可以对客户端的一个请求发送多个响应。
- 首部压缩，减少体积。 - 两端建一个索引表，发的时候直接发索引的集合即可
- 多路复用，一次 tcp 可以同时发送多个请求。
- 提升访问速度（对于 http1.0）
- 二进制分帧：HTTP2.0 会将所有的传输信息分割为更小的信息或者帧，并对他们进行二进制编码。这样就可以进行乱序发送，而不是串行请求，顺序不需要一一对应，解决了队首阻塞问题

- http1.0 - 连接无法复用，每次都要三次握手和慢启动
- http1.1 - 默认使用持久连接，避免了重复的三次握手

HTTP 耗时 = TCP 握手
HTTPs 耗时 = TCP 握手 + SSL 握手
HTTPs 肯定比 HTTP 耗时，这就叫 SSL 延迟。

# http3.0 - QUIC

在 3.0 之前的协议都是基于 TCP 做的，这有个缺点是数据必须要严格按照顺序，如果数据包丢失，就需要重新传（因为ACK滑动窗口是累加计数，如果当前的没到，就算后面的到了也会卡在这里）。

谷歌整了一个 QUIC 协议，基于 UDP 实现，在保证了数据的完整性的同时享受到 UDP 无连接的，不需要三次握手的好处。

# cdn 的作用以及原理

cdn，全称是内容分发网络。cdn 可以提供更高效的服务，低延时的访问，可以解决单个域名下链接并发数低的问题，变相提高浏览器的链接并发数。

原理：

- 浏览器访问域名，本地 dns 解析获得 CNAME，将解析权交给 CNAME 指向的 CDN 专用 DNS 服务器。
- 专用服务器返回 cdn 的全局负载均衡设备 ip 给浏览器，浏览器请求。
- 负载均衡设备根据用户的 ip 获取物理地址，接入网的类型，选择一台离用户最近，负载最轻的缓存服务器 ip 返回给用户。
- 用户向缓存服务器发起请求并获得内容。
